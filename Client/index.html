<!DOCTYPE html>
<html lang = "ru" prefix = "og: http://ogp.me/ns#">
<head>
    <meta http-equiv = 'cache-control' content = 'no-cache'>
    <meta http-equiv = 'expires' content = '0'>
    <meta http-equiv = 'pragma' content = 'no-cache'>
    <meta charset = "UTF-8">
    <meta http-equiv = "X-UA-Compatible" content = "IE = edge">
    <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
    <meta property = "og:title" content = "StableDraw: рисование с применением нейросетей"/>
    <meta property = "og:url" content = "http://www.stabledraw.com/" />
    <meta property = "vk:image" content = "https://stabledraw.com/logo.png"/>
    <meta property = "og:image" content = "https://stabledraw.com/logo.png"/>
    <link rel = "shortcut icon" href = "favicon.ico" type = "image/x-icon" />
    <link rel = "stylesheet" href = "style.css?v=<?= time(); ?>" type = "text/css">
    <link rel = "stylesheet" href = "farbtastic.css" type = "text/css" />
    <title>Stable Draw</title>
</head>
<body>
    <div id = "mySidepanel" class = "sidepanel">
        <a class = "closebtn" onclick = "closeNav()">
            &times;
        </a>
        <div id = "mods_of_work" class = "mods_of_work">
            <a href = "#" class = "work_mode_href" title = "Картина по текстовому описанию" style = "border-bottom-style: hidden">
                <img class = "work_mode_img_btn" src = "text_to_image.png">
            </a>
            <a class = "work_mode_href" id = "selected_work_mode" title = "Картина из рисунка (выбрано)">
                <img class = "work_mode_img_btn" src = "image_to_image.png">
            </a> 
            <a href = "#" class = "work_mode_href" title = "Обработка изображений с комьютера" style = "border-top-style: hidden">
                <img class = "work_mode_img_btn" src = "photo_to_image.png">
            </a>
            <a href = "#" class = "work_mode_href" title = "Создание аримации" style = "border-top-style: hidden">
                <img class = "work_mode_img_btn" src = "frames_to_animation.png">
            </a>
        </div>
        <div class = "sidepanel_bottom_buttons">
            <button class = "sidepanel_bottom_button" title = "Настройки">
                <img class = "sidepanel_bottom_button_img" src = "settings.png">
            </button>
            <button class = "sidepanel_bottom_button" id = "change_theme" title = "Тёмная тема">
                <img class = "sidepanel_bottom_button_img" id = "theme_mode_img" src = "dark mode.png">
            </button>
            <button class = "sidepanel_bottom_button" title = "Язык/language">
                <img class = "sidepanel_bottom_button_img" src = "language.png">
            </button>
        </div>
        <div class = "helpfull_links" font-size = 2px>
            <div class = "helpfull_link">
                <a href = "#">
                    О нас
                </a>
            </div>
            <div class = "helpfull_link">
                <a href = "#">
                    Помощь
                </a>
            </div>
        </div>
    </div>
    <button class = "openbtn" onclick = "openNav()">
        &#9776;
    </button>
    <div class = "cursor">
        <img class = "cursimg" display = "none" width = "30px" height="30px">
    </div>
    <div class = layers>
        <div class = layers_buttons>
            <button class = layers_mini_button id = merge_layers title = "Объединить слои">
                <img class = "layers_mini_button_image" src = "merge.png">
            </button>
            <button class = layers_mini_button id = swap_layers title = "Поменять слои местами">
                <img class = "layers_mini_button_image" src = "swap.png">
            </button>
        </div>
        <div class = layer_box>
            <div class = layer id = layer_1>
                <button class = layer_visibility_button id = layer_1_visibility_button title = "Включить/выключить видимость">
                    <img class = "layers_visibility_button_image" id = layer_1_visibility_img src = "visibility_on.png">
                </button>
                <div class = layer_button id = layer_button_1>
                    <div class = layer_display_icon id = layer_display_icon_1>
                        <canvas class = layer_display_canvas id = layer_1_display_canvas style = "z-index: 1;">
                        </canvas>
                        <div class = layer_display_canvas id = "layer_alpha_img_1" style = "z-index: 0; background-image: url(mini_alpha_pattern.png); background-repeat: repeat">
                        </div>
                    </div>
                </div>
            </div>
            <div class = layer id = layer_2>
                <button class = layer_visibility_button id = layer_2_visibility_button title = "Включить/выключить видимость">
                    <img class = "layers_visibility_button_image" id = layer_2_visibility_img src = "visibility_on.png">
                </button>
                <div class = layer_button id = layer_button_2>
                    <div class = layer_display_icon id = layer_display_icon_2>
                        <canvas class = layer_display_canvas id = layer_2_display_canvas style = "z-index: 1;">
                        </canvas>
                        <div class = layer_display_canvas id = "layer_alpha_img_2" style = "z-index: 0; background-image: url(mini_alpha_pattern.png); background-repeat: repeat">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class = scale_field>
        <input type = "text" class = "f_ratio" list = "default_ratio" name = "f_ratio" required placeholder = "W:H"/>
        <datalist id = "default_ratio">
            <option value = "16:9">
            <option value = "1:1">
            <option value = "21:9">
            <option value = "4:3">
            <option value = "9:16">
            <option value = "9:21">
        </datalist>
    </div>
    <div class = "d_frame" id = "d_frame">
        <div class = "v_frame" id = "v_frame">
            <canvas class = "drawfield" id = "canvas_additional" style = "z-index: 10">
            </canvas>
            <canvas class = "drawfield" id = "canvas_foreground" style = "z-index: 9">
            </canvas>
            <canvas class = "drawfield" id = "canvas_background" style = "z-index: 8">
            </canvas>
            <div class = "drawfield" id = "alpha_img" style = "z-index: 7; background-image: url(alpha_pattern.png); background-repeat: repeat">
            </div>
        </div>
    </div>
    <div class = "clr_window" id = "clr_window">
        <form action = "">
            <div class = "form-item">
                <label for = "color">
                    Цвет:
                </label>
                <input type = "text" id = "color" name = "color" value = "#000000" />
            </div>
            <div id = "picker">
            </div>
        </form>
        <button class = "ctype_clr_btn" id = "ctype_clr_btn" type = "button">
            Цвет фона
        </button>
        <button class = "ok_clr_btn" id = "ok_clr_btn" type = "button">
            Сохранить
        </button>
    </div>
    <div class = "pencil_window" id="pencil_window">
        <div class="pencil_window_thickness_block">
            <img class = "thicknessimg" src = "thickness.png">
            <input class = "thickness_slider" type = "range" id = "thickness_sliderValue" min = "1" max = "100" value = "1" oninput = "thickness_rangeValue.value = this.value">
            <input class = "thickness_field" type = "number" id = "thickness_rangeValue" min = "1" max = "100" value = "1" oninput = "thickness_sliderValue.value = this.value"/>
        </div>
        <div class = "pencil_window_smoothing_block">
            <img class = "smoothingimg" src = "smoothing.png">
            <input class = "smoothing_slider" type = "range" id = "smoothing_sliderValue" min = "0" max = "100" value = "0" oninput = "smoothing_rangeValue.value = this.value">
            <input class = "smoothing_field" type = "number" id = "smoothing_rangeValue" min = "0" max = "100" value = "0" oninput = "smoothing_sliderValue.value = this.value"/>
        </div>
    </div>
    <div class = "eraser_window" id = "eraser_window">
        <div class = "eraser_window_thickness_block">
            <img class = "thicknessimg" src = "thickness.png">
            <input class = "e_thickness_slider" type = "range" id = "e_thickness_sliderValue" min = "1" max = "100" value = "1" oninput = "e_thickness_rangeValue.value = this.value">
            <input class = "e_thickness_field" type = "number" id = "e_thickness_rangeValue" min = "1" max = "100" value = "1" oninput = "e_thickness_sliderValue.value = this.value"/>
        </div>
    </div>
    <button class = "up_panel_button_tool" id = "graphic_tablet" title = "Учитывать силу нажатия" style = "display: none">
        <img class = "up_panel_button_image" id = "graphic_tablet_image" src = "graphic_tablet.png">
    </button>
    <div class = "nav">
        <div class = "icon_buttons">
            <button class = "up_panel_button" id = "arrow_back" title = "Отменить">
                <img class = "up_panel_button_image" id = "arrow_back_image" src = "undo_arrow.png">
            </button>
            <button class = "up_panel_button" id = "arrow_next" title = "Повторить">
                <img class = "up_panel_button_image" id = "arrow_next_image" src = "repeat_arrow.png">
            </button>
            <button class = "up_panel_button" id = "palette" title = "Выбор цвета">
                <img class = "up_panel_button_image" id = "clrimg" src = "palette.png" style = "filter: invert(1);">
            </button>
            <button class = "up_panel_button_tool" id = "pencil" title = "Карандаш">
                <img class = "up_panel_button_image" id = "pencil_image" src = "pencil.png">
            </button>
            <button class = "up_panel_button_tool" id = "eraser" title = "Ластик">
                <img class = "up_panel_button_image" id = "eraser_image" src = "eraser.png">
            </button>
            <button class = "up_panel_button_tool" id = "bucket" title = "Заливка">
                <img class = "up_panel_button_image" id = "bucket_image" src = "bucket.png">
            </button>
            <button class = "up_panel_button_tool" id = "pipette" title = "Пипетка">
                <img class = "up_panel_button_image" id = "pipette_image" src = "pipette.png">
            </button>
            <button class = "up_panel_button" id = "clear" title = "Очистить рабочую область">
                <img class = "up_panel_button_image" id = "clearimg" src = "clear.png">
            </button>
            <button class = "up_panel_button" id = "upload" title = "Загрузить изображение на сайт">
                <img class = "up_panel_button_image" id = "uploadimg" src = "upload.png"/>
                <div class="hiddenInput">
                    <input type="file" id="my_hidden_file" name="loadfile">  
                </div>
            </button>
            <button class = "up_panel_button" id = "save" title = "Сохранить изображение">
                <img class = "up_panel_button_image" id = "saveimg" src = "save.png">
            </button>
            <button class = "up_panel_button" id = "generate" title = "Отправить изображение в нейросеть для генерации">
                <img class = "up_panel_button_image" id = "generateimg" src = "generate.png">
            </button>
        </div>
    </div>
    <script src = "main.js?v=<?= time(); ?>">
    </script>
    <script type = "text/javascript" src = "jquery.js">
    </script>
    <script type = "text/javascript" src = "farbtastic.js">
    </script>
    <script type = "text/javascript" charset = "utf-8">
        $(document).ready(function() 
        {
          $('#picker').farbtastic('#color');
        });
    </script>
</body>
</html>